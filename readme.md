# Sort Module

Основная задача модуля - расположить игроков в турнирной таблице в зависимости от их показателей.

Для определения места в турнирной таблице последовательно применяются следующие критерии:

1. Общее количество очков у каждого игрока
2. При равенстве в пункте 1 - количество очков заработанных в очных встречах
3. При равенстве в пункте 2 - разница между выигранными и проигранными сетами в личных встречах
4. При равенстве в пункте 3 - разница по выигранным и проигранным очкам в каждом сете в личных встречах

Более подробная информация указана в [правилах](http://table-tennis.kiev.ua/index.php/2011-10-19-09-40-25/7-2011-11-21-18-13-50/44------678), пункт 6.4.14.1.1

#### Формат входящих данных.

Обращение к модулю осуществляется через метод getResult

```js 
sortModule.getResult(tournament, score);
```

Модуль принимает 1 или 2 параметра:

параметр | формат
---------|--------
результаты турнира | массив объектов, где каждый объект результаты игры
расширенные результаты игр | массив массивов, каждый внутренний массив содержит счет по сетам в каждой партии

Первый параметр обязательный.

Для распределения игроков по местам в турнирной таблице в подавляющем большинстве случаев достаточно только первого параметра (это подойдет для критериев 1-3)

В данном случае модуль даст ответ в формате:

```js 
{   errorCode: 0,
    result:[{place: 1, player_id: "3", points: 5},
            {place: 2, player_id: "2", points: 5},
            {place: 3, player_id: "4", points: 5},
            {place: 4, player_id: "5", points: 3}]
}
```
В случае, если модуль получил на вход 1 параметр, и этого оказалось недостаточно (необходима сортировка по критерию 4), модуль дает ответ в формате:

```js 
{   errorCode: 1,
    gamesId:[gameId1, gameId2, gameId3]
}
```
где gamesId - список id игр, по которым необходима расширенная информация. В таком случае, модуль необходимо запустить с полным набором входных данных:

1. Результатами турнира
2. Расширенными результатами по конкретным играм между игроками у которых равенство по остальным показателям


